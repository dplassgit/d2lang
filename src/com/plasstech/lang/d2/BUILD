java_binary(name="LexerDriver",
            srcs=["LexerDriver.java"],
            deps=[
              "//src/com/plasstech/lang/d2/common",
              "//src/com/plasstech/lang/d2/lex",
            ],
            )

java_binary(name="ParserDriver",
            srcs=["ParserDriver.java"],
            deps=[
              "//src/com/plasstech/lang/d2/lex",
              "//src/com/plasstech/lang/d2/parse",
              "//src/com/plasstech/lang/d2/parse/node",
            ],
            )

java_binary(name="CheckerDriver",
            srcs=["CheckerDriver.java"],
            deps=[
              "//src/com/plasstech/lang/d2/lex",
              "//src/com/plasstech/lang/d2/parse",
              "//src/com/plasstech/lang/d2/parse/node",
              "//src/com/plasstech/lang/d2/type",
            ],
            )

java_binary(name="CodeGenDriver",
            srcs=["CodeGenDriver.java"],
            deps=[
              "//src/com/plasstech/lang/d2/codegen",
              "//src/com/plasstech/lang/d2/codegen/il",
              "//src/com/plasstech/lang/d2/lex",
              "//src/com/plasstech/lang/d2/parse",
              "//src/com/plasstech/lang/d2/parse/node",
              "//src/com/plasstech/lang/d2/type",
            ],
            runtime_deps=[
              "@maven//:com_google_flogger_flogger_system_backend",
            ],
            )

java_binary(name="InterpreterDriver",
            srcs=["InterpreterDriver.java"],
            deps=[
              ":execution_environment",
              "//src/com/plasstech/lang/d2/codegen",
              "//src/com/plasstech/lang/d2/codegen/il",
              "//src/com/plasstech/lang/d2/common",
              "//src/com/plasstech/lang/d2/interpreter",
              "//src/com/plasstech/lang/d2/lex",
              "//src/com/plasstech/lang/d2/parse",
              "//src/com/plasstech/lang/d2/parse/node",
              "//src/com/plasstech/lang/d2/type",
              "@maven//:com_github_pcj_google_options",
              "@maven//:com_google_guava_guava",
            ],
            runtime_deps=[
              "@maven//:com_google_flogger_flogger_system_backend",
            ],
            )

java_library(name="execution_environment",
             srcs=glob(["*.java"]),
             deps=[
                 "//src/com/plasstech/lang/d2/codegen",
                 "//src/com/plasstech/lang/d2/codegen/il",
                 "//src/com/plasstech/lang/d2/common",
                 "//src/com/plasstech/lang/d2/interpreter",
                 "//src/com/plasstech/lang/d2/lex",
                 "//src/com/plasstech/lang/d2/parse",
                 "//src/com/plasstech/lang/d2/parse/node",
                 "//src/com/plasstech/lang/d2/type",
                 "@maven//:com_github_pcj_google_options",
                 "@maven//:com_google_guava_guava",
             ],
             visibility=["//visibility:public"],
             )
